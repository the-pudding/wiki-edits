import{n as $,s as pe,f as zt,c as hn,u as dn,g as gn,d as pn,o as yn,b as rt,e as Q,a as vn,h as Ye,i as ft,j as _n,k as Tn,l as wn,m as lt}from"../chunks/scheduler.f37bc244.js";import{S as ye,i as ve,g as L,e as re,y as Cn,h as W,f as M,k as h,x as N,z as ot,a as V,j as X,d as K,t as ne,H as Mn,A as Dn,B as te,l as je,C as bn,p as Un,b as En,D as kn,r as Ee,s as Se,u as ke,c as xe,v as Fe,w as Ae,m as mt,n as ht,o as Fn}from"../chunks/index.b0edbefb.js";import{e as he}from"../chunks/transform.3586df06.js";import{d as _e,r as An,w as Te}from"../chunks/index.0d47b54d.js";const Rt=typeof window<"u";let Sn=Rt?()=>window.performance.now():()=>Date.now(),Pt=Rt?e=>requestAnimationFrame(e):$;const me=new Set;function Zt(e){me.forEach(t=>{t.c(e)||(me.delete(t),t.f())}),me.size!==0&&Pt(Zt)}function xn(e){let t;return me.size===0&&Pt(Zt),{promise:new Promise(n=>{me.add(t={c:e,f:n})}),abort(){me.delete(t)}}}function dt(e,t,n){const r=e.slice();return r[5]=t[n],r}function gt(e){let t,n;return{c(){t=L("link"),this.h()},l(r){t=W(r,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){h(t,"rel","preload"),h(t,"href",n=e[5]),h(t,"as","font"),h(t,"type","font/woff2"),h(t,"crossorigin","")},m(r,o){V(r,t,o)},p(r,o){o&16&&n!==(n=r[5])&&h(t,"href",n)},d(r){r&&M(t)}}}function Ln(e){let t,n,r,o,i,a,u,s,d,C,c,m,v,l,p,b,w,T,g,E,U,D,A,S,R,z;document.title=t=e[0];let P=he(e[4]),O=[];for(let F=0;F<P.length;F+=1)O[F]=gt(dt(e,P,F));return{c(){n=L("meta"),r=L("meta"),o=L("meta"),i=L("meta"),a=L("meta"),u=L("meta"),s=L("meta"),d=L("meta"),C=L("meta"),c=L("meta"),v=L("meta"),l=L("meta"),p=L("meta"),b=L("meta"),w=L("meta"),T=L("meta"),g=L("meta"),E=L("meta"),U=L("meta"),A=L("meta"),S=L("link");for(let F=0;F<O.length;F+=1)O[F].c();z=re(),this.h()},l(F){const _=Cn("svelte-1htu80s",document.head);n=W(_,"META",{name:!0,content:!0}),r=W(_,"META",{name:!0,content:!0}),o=W(_,"META",{name:!0,content:!0}),i=W(_,"META",{property:!0,content:!0}),a=W(_,"META",{property:!0,content:!0}),u=W(_,"META",{property:!0,content:!0}),s=W(_,"META",{property:!0,content:!0}),d=W(_,"META",{property:!0,content:!0}),C=W(_,"META",{property:!0,content:!0}),c=W(_,"META",{property:!0,content:!0}),v=W(_,"META",{property:!0,content:!0}),l=W(_,"META",{property:!0,content:!0}),p=W(_,"META",{property:!0,content:!0}),b=W(_,"META",{name:!0,content:!0}),w=W(_,"META",{name:!0,content:!0}),T=W(_,"META",{name:!0,content:!0}),g=W(_,"META",{name:!0,content:!0}),E=W(_,"META",{name:!0,content:!0}),U=W(_,"META",{name:!0,content:!0}),A=W(_,"META",{name:!0,content:!0}),S=W(_,"LINK",{rel:!0,href:!0});for(let Y=0;Y<O.length;Y+=1)O[Y].l(_);z=re(),_.forEach(M),this.h()},h(){h(n,"name","description"),h(n,"content",e[1]),h(r,"name","author"),h(r,"content","The Pudding"),h(o,"name","news_keywords"),h(o,"content",e[3]),h(i,"property","og:title"),h(i,"content",e[0]),h(a,"property","og:site_name"),h(a,"content","The Pudding"),h(u,"property","og:url"),h(u,"content",e[2]),h(s,"property","og:description"),h(s,"content",e[1]),h(d,"property","og:type"),h(d,"content","article"),h(C,"property","og:locale"),h(C,"content","en_US"),h(c,"property","og:image"),h(c,"content",m=e[2]+"/assets/social-facebook.jpg"),h(v,"property","og:image:type"),h(v,"content","image/jpeg"),h(l,"property","og:image:width"),h(l,"content","1200"),h(p,"property","og:image:height"),h(p,"content","600"),h(b,"name","twitter:card"),h(b,"content","summary_large_image"),h(w,"name","twitter:site"),h(w,"content","https://pudding.cool"),h(T,"name","twitter:creator"),h(T,"content","@puddingviz"),h(g,"name","twitter:title"),h(g,"content",e[0]),h(E,"name","twitter:description"),h(E,"content",e[1]),h(U,"name","twitter:image:src"),h(U,"content",D=e[2]+"/assets/social-twitter.jpg"),h(A,"name","robots"),h(A,"content","max-image-preview:large"),h(S,"rel","canonical"),h(S,"href",R=e[2]+"/")},m(F,_){N(document.head,n),N(document.head,r),N(document.head,o),N(document.head,i),N(document.head,a),N(document.head,u),N(document.head,s),N(document.head,d),N(document.head,C),N(document.head,c),N(document.head,v),N(document.head,l),N(document.head,p),N(document.head,b),N(document.head,w),N(document.head,T),N(document.head,g),N(document.head,E),N(document.head,U),N(document.head,A),N(document.head,S);for(let Y=0;Y<O.length;Y+=1)O[Y]&&O[Y].m(document.head,null);N(document.head,z)},p(F,[_]){if(_&1&&t!==(t=F[0])&&(document.title=t),_&2&&h(n,"content",F[1]),_&8&&h(o,"content",F[3]),_&1&&h(i,"content",F[0]),_&4&&h(u,"content",F[2]),_&2&&h(s,"content",F[1]),_&4&&m!==(m=F[2]+"/assets/social-facebook.jpg")&&h(c,"content",m),_&1&&h(g,"content",F[0]),_&2&&h(E,"content",F[1]),_&4&&D!==(D=F[2]+"/assets/social-twitter.jpg")&&h(U,"content",D),_&4&&R!==(R=F[2]+"/")&&h(S,"href",R),_&16){P=he(F[4]);let Y;for(Y=0;Y<P.length;Y+=1){const ee=dt(F,P,Y);O[Y]?O[Y].p(ee,_):(O[Y]=gt(ee),O[Y].c(),O[Y].m(z.parentNode,z))}for(;Y<O.length;Y+=1)O[Y].d(1);O.length=P.length}},i:$,o:$,d(F){M(n),M(r),M(o),M(i),M(a),M(u),M(s),M(d),M(C),M(c),M(v),M(l),M(p),M(b),M(w),M(T),M(g),M(E),M(U),M(A),M(S),ot(O,F),M(z)}}}function Wn(e,t,n){let{title:r="Title TK"}=t,{description:o="Description TK"}=t,{url:i="https://pudding.cool"}=t,{keywords:a=""}=t,{preloadFont:u=[]}=t;return e.$$set=s=>{"title"in s&&n(0,r=s.title),"description"in s&&n(1,o=s.description),"url"in s&&n(2,i=s.url),"keywords"in s&&n(3,a=s.keywords),"preloadFont"in s&&n(4,u=s.preloadFont)},[r,o,i,a,u]}class In extends ye{constructor(t){super(),ve(this,t,Wn,Ln,pe,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function Nn(e){let t=null;return _e(e,n=>{const r=t;return t=n,r})}var Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function On(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yn="Expected a function",pt=0/0,Hn="[object Symbol]",jn=/^\s+|\s+$/g,zn=/^[-+]0x[0-9a-f]+$/i,Rn=/^0b[01]+$/i,Pn=/^0o[0-7]+$/i,Zn=parseInt,qn=typeof Oe=="object"&&Oe&&Oe.Object===Object&&Oe,Vn=typeof self=="object"&&self&&self.Object===Object&&self,Bn=qn||Vn||Function("return this")(),Jn=Object.prototype,Qn=Jn.toString,Xn=Math.max,Gn=Math.min,Ve=function(){return Bn.Date.now()};function Kn(e,t,n){var r,o,i,a,u,s,d=0,C=!1,c=!1,m=!0;if(typeof e!="function")throw new TypeError(Yn);t=yt(t)||0,et(n)&&(C=!!n.leading,c="maxWait"in n,i=c?Xn(yt(n.maxWait)||0,t):i,m="trailing"in n?!!n.trailing:m);function v(D){var A=r,S=o;return r=o=void 0,d=D,a=e.apply(S,A),a}function l(D){return d=D,u=setTimeout(w,t),C?v(D):a}function p(D){var A=D-s,S=D-d,R=t-A;return c?Gn(R,i-S):R}function b(D){var A=D-s,S=D-d;return s===void 0||A>=t||A<0||c&&S>=i}function w(){var D=Ve();if(b(D))return T(D);u=setTimeout(w,p(D))}function T(D){return u=void 0,m&&r?v(D):(r=o=void 0,a)}function g(){u!==void 0&&clearTimeout(u),d=0,r=s=o=u=void 0}function E(){return u===void 0?a:T(Ve())}function U(){var D=Ve(),A=b(D);if(r=arguments,o=this,s=D,A){if(u===void 0)return l(s);if(c)return u=setTimeout(w,t),v(s)}return u===void 0&&(u=setTimeout(w,t)),a}return U.cancel=g,U.flush=E,U}function et(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function $n(e){return!!e&&typeof e=="object"}function er(e){return typeof e=="symbol"||$n(e)&&Qn.call(e)==Hn}function yt(e){if(typeof e=="number")return e;if(er(e))return pt;if(et(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=et(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(jn,"");var n=Rn.test(e);return n||Pn.test(e)?Zn(e.slice(2),n?2:8):zn.test(e)?pt:+e}var tr=Kn;const nr=On(tr),rr=An({width:0,height:0},e=>{const t=()=>e({width:window.innerWidth,height:window.innerHeight});return t(),window.addEventListener("resize",nr(t,250)),()=>{window.removeEventListener("resize",t)}});function or(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let o of e)(o=+t(o,++r,e))&&(n+=o)}return n}var vt={},Be={},Je=34,Ce=10,Qe=13;function qt(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function ir(e,t){var n=qt(e);return function(r,o){return t(n(r),o,e)}}function _t(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var o in r)o in t||n.push(t[o]=o)}),n}function q(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function ar(e){return e<0?"-"+q(-e,6):e>9999?"+"+q(e,6):q(e,4)}function ur(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":ar(e.getUTCFullYear())+"-"+q(e.getUTCMonth()+1,2)+"-"+q(e.getUTCDate(),2)+(o?"T"+q(t,2)+":"+q(n,2)+":"+q(r,2)+"."+q(o,3)+"Z":r?"T"+q(t,2)+":"+q(n,2)+":"+q(r,2)+"Z":n||t?"T"+q(t,2)+":"+q(n,2)+"Z":"")}function sr(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(c,m){var v,l,p=o(c,function(b,w){if(v)return v(b,w-1);l=b,v=m?ir(b,m):qt(b)});return p.columns=l||[],p}function o(c,m){var v=[],l=c.length,p=0,b=0,w,T=l<=0,g=!1;c.charCodeAt(l-1)===Ce&&--l,c.charCodeAt(l-1)===Qe&&--l;function E(){if(T)return Be;if(g)return g=!1,vt;var D,A=p,S;if(c.charCodeAt(A)===Je){for(;p++<l&&c.charCodeAt(p)!==Je||c.charCodeAt(++p)===Je;);return(D=p)>=l?T=!0:(S=c.charCodeAt(p++))===Ce?g=!0:S===Qe&&(g=!0,c.charCodeAt(p)===Ce&&++p),c.slice(A+1,D-1).replace(/""/g,'"')}for(;p<l;){if((S=c.charCodeAt(D=p++))===Ce)g=!0;else if(S===Qe)g=!0,c.charCodeAt(p)===Ce&&++p;else if(S!==n)continue;return c.slice(A,D)}return T=!0,c.slice(A,l)}for(;(w=E())!==Be;){for(var U=[];w!==vt&&w!==Be;)U.push(w),w=E();m&&(U=m(U,b++))==null||v.push(U)}return v}function i(c,m){return c.map(function(v){return m.map(function(l){return C(v[l])}).join(e)})}function a(c,m){return m==null&&(m=_t(c)),[m.map(C).join(e)].concat(i(c,m)).join(`
`)}function u(c,m){return m==null&&(m=_t(c)),i(c,m).join(`
`)}function s(c){return c.map(d).join(`
`)}function d(c){return c.map(C).join(e)}function C(c){return c==null?"":c instanceof Date?ur(c):t.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:o,format:a,formatBody:u,formatRows:s,formatRow:d,formatValue:C}}var cr=sr(","),fr=cr.parse;function lr(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function mr(e,t){return fetch(e,t).then(lr)}function hr(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),mr(t,n).then(function(o){return e(o,r)})}}var dr=hr(fr);const Xe=new Date,Ge=new Date;function G(e,t,n,r){function o(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(e(i=new Date(+i)),i),o.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),o.round=i=>{const a=o(i),u=o.ceil(i);return i-a<u-i?a:u},o.offset=(i,a)=>(t(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,u)=>{const s=[];if(i=o.ceil(i),u=u==null?1:Math.floor(u),!(i<a)||!(u>0))return s;let d;do s.push(d=new Date(+i)),t(i,u),e(i);while(d<i&&i<a);return s},o.filter=i=>G(a=>{if(a>=a)for(;e(a),!i(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;t(a,-1),!i(a););else for(;--u>=0;)for(;t(a,1),!i(a););}),n&&(o.count=(i,a)=>(Xe.setTime(+i),Ge.setTime(+a),e(Xe),e(Ge),Math.floor(n(Xe,Ge))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?a=>r(a)%i===0:a=>o.count(0,a)%i===0):o)),o}const gr=1e3,it=gr*60,pr=it*60,Le=pr*24,Vt=Le*7,at=G(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*it)/Le,e=>e.getDate()-1);at.range;const ut=G(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Le,e=>e.getUTCDate()-1);ut.range;const yr=G(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Le,e=>Math.floor(e/Le));yr.range;function ce(e){return G(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*it)/Vt)}const Bt=ce(0),ze=ce(1),vr=ce(2),_r=ce(3),de=ce(4),Tr=ce(5),wr=ce(6);Bt.range;ze.range;vr.range;_r.range;de.range;Tr.range;wr.range;function fe(e){return G(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Vt)}const Jt=fe(0),Re=fe(1),Cr=fe(2),Mr=fe(3),ge=fe(4),Dr=fe(5),br=fe(6);Jt.range;Re.range;Cr.range;Mr.range;ge.range;Dr.range;br.range;const ae=G(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ae.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:G(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ae.range;const ue=G(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ue.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:G(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ue.range;function Ke(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $e(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Me(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Ur(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,u=e.months,s=e.shortMonths,d=De(o),C=be(o),c=De(i),m=be(i),v=De(a),l=be(a),p=De(u),b=be(u),w=De(s),T=be(s),g={a:we,A:Ie,b:qe,B:Ne,c:null,d:bt,e:bt,f:Qr,g:io,G:uo,H:Vr,I:Br,j:Jr,L:Qt,m:Xr,M:Gr,p:on,q:an,Q:kt,s:Ft,S:Kr,u:$r,U:eo,V:to,w:no,W:ro,x:null,X:null,y:oo,Y:ao,Z:so,"%":Et},E={a:un,A:sn,b:cn,B:fn,c:null,d:Ut,e:Ut,f:mo,g:Mo,G:bo,H:co,I:fo,j:lo,L:Gt,m:ho,M:go,p:ln,q:mn,Q:kt,s:Ft,S:po,u:yo,U:vo,V:_o,w:To,W:wo,x:null,X:null,y:Co,Y:Do,Z:Uo,"%":Et},U={a:z,A:P,b:O,B:F,c:_,d:Mt,e:Mt,f:Rr,g:Ct,G:wt,H:Dt,I:Dt,j:Yr,L:zr,m:Or,M:Hr,p:R,q:Nr,Q:Zr,s:qr,S:jr,u:Sr,U:xr,V:Lr,w:Ar,W:Wr,x:Y,X:ee,y:Ct,Y:wt,Z:Ir,"%":Pr};g.x=D(n,g),g.X=D(r,g),g.c=D(t,g),E.x=D(n,E),E.X=D(r,E),E.c=D(t,E);function D(y,k){return function(x){var f=[],Z=-1,H=0,B=y.length,J,ie,ct;for(x instanceof Date||(x=new Date(+x));++Z<B;)y.charCodeAt(Z)===37&&(f.push(y.slice(H,Z)),(ie=Tt[J=y.charAt(++Z)])!=null?J=y.charAt(++Z):ie=J==="e"?" ":"0",(ct=k[J])&&(J=ct(x,ie)),f.push(J),H=Z+1);return f.push(y.slice(H,Z)),f.join("")}}function A(y,k){return function(x){var f=Me(1900,void 0,1),Z=S(f,y,x+="",0),H,B;if(Z!=x.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(f.s*1e3+("L"in f?f.L:0));if(k&&!("Z"in f)&&(f.Z=0),"p"in f&&(f.H=f.H%12+f.p*12),f.m===void 0&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(H=$e(Me(f.y,0,1)),B=H.getUTCDay(),H=B>4||B===0?Re.ceil(H):Re(H),H=ut.offset(H,(f.V-1)*7),f.y=H.getUTCFullYear(),f.m=H.getUTCMonth(),f.d=H.getUTCDate()+(f.w+6)%7):(H=Ke(Me(f.y,0,1)),B=H.getDay(),H=B>4||B===0?ze.ceil(H):ze(H),H=at.offset(H,(f.V-1)*7),f.y=H.getFullYear(),f.m=H.getMonth(),f.d=H.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:"W"in f?1:0),B="Z"in f?$e(Me(f.y,0,1)).getUTCDay():Ke(Me(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+f.W*7-(B+5)%7:f.w+f.U*7-(B+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,$e(f)):Ke(f)}}function S(y,k,x,f){for(var Z=0,H=k.length,B=x.length,J,ie;Z<H;){if(f>=B)return-1;if(J=k.charCodeAt(Z++),J===37){if(J=k.charAt(Z++),ie=U[J in Tt?k.charAt(Z++):J],!ie||(f=ie(y,x,f))<0)return-1}else if(J!=x.charCodeAt(f++))return-1}return f}function R(y,k,x){var f=d.exec(k.slice(x));return f?(y.p=C.get(f[0].toLowerCase()),x+f[0].length):-1}function z(y,k,x){var f=v.exec(k.slice(x));return f?(y.w=l.get(f[0].toLowerCase()),x+f[0].length):-1}function P(y,k,x){var f=c.exec(k.slice(x));return f?(y.w=m.get(f[0].toLowerCase()),x+f[0].length):-1}function O(y,k,x){var f=w.exec(k.slice(x));return f?(y.m=T.get(f[0].toLowerCase()),x+f[0].length):-1}function F(y,k,x){var f=p.exec(k.slice(x));return f?(y.m=b.get(f[0].toLowerCase()),x+f[0].length):-1}function _(y,k,x){return S(y,t,k,x)}function Y(y,k,x){return S(y,n,k,x)}function ee(y,k,x){return S(y,r,k,x)}function we(y){return a[y.getDay()]}function Ie(y){return i[y.getDay()]}function qe(y){return s[y.getMonth()]}function Ne(y){return u[y.getMonth()]}function on(y){return o[+(y.getHours()>=12)]}function an(y){return 1+~~(y.getMonth()/3)}function un(y){return a[y.getUTCDay()]}function sn(y){return i[y.getUTCDay()]}function cn(y){return s[y.getUTCMonth()]}function fn(y){return u[y.getUTCMonth()]}function ln(y){return o[+(y.getUTCHours()>=12)]}function mn(y){return 1+~~(y.getUTCMonth()/3)}return{format:function(y){var k=D(y+="",g);return k.toString=function(){return y},k},parse:function(y){var k=A(y+="",!1);return k.toString=function(){return y},k},utcFormat:function(y){var k=D(y+="",E);return k.toString=function(){return y},k},utcParse:function(y){var k=A(y+="",!0);return k.toString=function(){return y},k}}}var Tt={"-":"",_:" ",0:"0"},j=/^\s*\d+/,Er=/^%/,kr=/[\\^$*+?|[\]().{}]/g;function I(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function Fr(e){return e.replace(kr,"\\$&")}function De(e){return new RegExp("^(?:"+e.map(Fr).join("|")+")","i")}function be(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Ar(e,t,n){var r=j.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Sr(e,t,n){var r=j.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xr(e,t,n){var r=j.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Lr(e,t,n){var r=j.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Wr(e,t,n){var r=j.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function wt(e,t,n){var r=j.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ct(e,t,n){var r=j.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ir(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Nr(e,t,n){var r=j.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Or(e,t,n){var r=j.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Mt(e,t,n){var r=j.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Yr(e,t,n){var r=j.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Dt(e,t,n){var r=j.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Hr(e,t,n){var r=j.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function jr(e,t,n){var r=j.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function zr(e,t,n){var r=j.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Rr(e,t,n){var r=j.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Pr(e,t,n){var r=Er.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Zr(e,t,n){var r=j.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function qr(e,t,n){var r=j.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function bt(e,t){return I(e.getDate(),t,2)}function Vr(e,t){return I(e.getHours(),t,2)}function Br(e,t){return I(e.getHours()%12||12,t,2)}function Jr(e,t){return I(1+at.count(ae(e),e),t,3)}function Qt(e,t){return I(e.getMilliseconds(),t,3)}function Qr(e,t){return Qt(e,t)+"000"}function Xr(e,t){return I(e.getMonth()+1,t,2)}function Gr(e,t){return I(e.getMinutes(),t,2)}function Kr(e,t){return I(e.getSeconds(),t,2)}function $r(e){var t=e.getDay();return t===0?7:t}function eo(e,t){return I(Bt.count(ae(e)-1,e),t,2)}function Xt(e){var t=e.getDay();return t>=4||t===0?de(e):de.ceil(e)}function to(e,t){return e=Xt(e),I(de.count(ae(e),e)+(ae(e).getDay()===4),t,2)}function no(e){return e.getDay()}function ro(e,t){return I(ze.count(ae(e)-1,e),t,2)}function oo(e,t){return I(e.getFullYear()%100,t,2)}function io(e,t){return e=Xt(e),I(e.getFullYear()%100,t,2)}function ao(e,t){return I(e.getFullYear()%1e4,t,4)}function uo(e,t){var n=e.getDay();return e=n>=4||n===0?de(e):de.ceil(e),I(e.getFullYear()%1e4,t,4)}function so(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+I(t/60|0,"0",2)+I(t%60,"0",2)}function Ut(e,t){return I(e.getUTCDate(),t,2)}function co(e,t){return I(e.getUTCHours(),t,2)}function fo(e,t){return I(e.getUTCHours()%12||12,t,2)}function lo(e,t){return I(1+ut.count(ue(e),e),t,3)}function Gt(e,t){return I(e.getUTCMilliseconds(),t,3)}function mo(e,t){return Gt(e,t)+"000"}function ho(e,t){return I(e.getUTCMonth()+1,t,2)}function go(e,t){return I(e.getUTCMinutes(),t,2)}function po(e,t){return I(e.getUTCSeconds(),t,2)}function yo(e){var t=e.getUTCDay();return t===0?7:t}function vo(e,t){return I(Jt.count(ue(e)-1,e),t,2)}function Kt(e){var t=e.getUTCDay();return t>=4||t===0?ge(e):ge.ceil(e)}function _o(e,t){return e=Kt(e),I(ge.count(ue(e),e)+(ue(e).getUTCDay()===4),t,2)}function To(e){return e.getUTCDay()}function wo(e,t){return I(Re.count(ue(e)-1,e),t,2)}function Co(e,t){return I(e.getUTCFullYear()%100,t,2)}function Mo(e,t){return e=Kt(e),I(e.getUTCFullYear()%100,t,2)}function Do(e,t){return I(e.getUTCFullYear()%1e4,t,4)}function bo(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ge(e):ge.ceil(e),I(e.getUTCFullYear()%1e4,t,4)}function Uo(){return"+0000"}function Et(){return"%"}function kt(e){return+e}function Ft(e){return Math.floor(+e/1e3)}var le,$t;Eo({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Eo(e){return le=Ur(e),$t=le.format,le.parse,le.utcFormat,le.utcParse,le}function oe(){}oe.prototype={diff:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.callback;typeof r=="function"&&(o=r,r={}),this.options=r;var i=this;function a(p){return o?(setTimeout(function(){o(void 0,p)},0),!0):p}t=this.castInput(t),n=this.castInput(n),t=this.removeEmpty(this.tokenize(t)),n=this.removeEmpty(this.tokenize(n));var u=n.length,s=t.length,d=1,C=u+s;r.maxEditLength&&(C=Math.min(C,r.maxEditLength));var c=[{newPos:-1,components:[]}],m=this.extractCommon(c[0],n,t,0);if(c[0].newPos+1>=u&&m+1>=s)return a([{value:this.join(n),count:n.length}]);function v(){for(var p=-1*d;p<=d;p+=2){var b=void 0,w=c[p-1],T=c[p+1],g=(T?T.newPos:0)-p;w&&(c[p-1]=void 0);var E=w&&w.newPos+1<u,U=T&&0<=g&&g<s;if(!E&&!U){c[p]=void 0;continue}if(!E||U&&w.newPos<T.newPos?(b=Fo(T),i.pushComponent(b.components,void 0,!0)):(b=w,b.newPos++,i.pushComponent(b.components,!0,void 0)),g=i.extractCommon(b,n,t,p),b.newPos+1>=u&&g+1>=s)return a(ko(i,b.components,n,t,i.useLongestToken));c[p]=b}d++}if(o)(function p(){setTimeout(function(){if(d>C)return o();v()||p()},0)})();else for(;d<=C;){var l=v();if(l)return l}},pushComponent:function(t,n,r){var o=t[t.length-1];o&&o.added===n&&o.removed===r?t[t.length-1]={count:o.count+1,added:n,removed:r}:t.push({count:1,added:n,removed:r})},extractCommon:function(t,n,r,o){for(var i=n.length,a=r.length,u=t.newPos,s=u-o,d=0;u+1<i&&s+1<a&&this.equals(n[u+1],r[s+1]);)u++,s++,d++;return d&&t.components.push({count:d}),t.newPos=u,s},equals:function(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function ko(e,t,n,r,o){for(var i=0,a=t.length,u=0,s=0;i<a;i++){var d=t[i];if(d.removed){if(d.value=e.join(r.slice(s,s+d.count)),s+=d.count,i&&t[i-1].added){var c=t[i-1];t[i-1]=t[i],t[i]=c}}else{if(!d.added&&o){var C=n.slice(u,u+d.count);C=C.map(function(v,l){var p=r[s+l];return p.length>v.length?p:v}),d.value=e.join(C)}else d.value=e.join(n.slice(u,u+d.count));u+=d.count,d.added||(s+=d.count)}}var m=t[a-1];return a>1&&typeof m.value=="string"&&(m.added||m.removed)&&e.equals("",m.value)&&(t[a-2].value+=m.value,t.pop()),t}function Fo(e){return{newPos:e.newPos,components:e.components.slice(0)}}var At=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,St=/\S/,en=new oe;en.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!St.test(e)&&!St.test(t)};en.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&At.test(t[n])&&At.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var tn=new oe;tn.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t};var Ao=new oe;Ao.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var So=new oe;So.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function He(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?He=function(t){return typeof t}:He=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(e)}var xo=Object.prototype.toString,We=new oe;We.useLongestToken=!0;We.tokenize=tn.tokenize;We.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,o=r===void 0?function(i,a){return typeof a>"u"?n:a}:r;return typeof e=="string"?e:JSON.stringify(tt(e,null,null,o),o,"  ")};We.equals=function(e,t){return oe.prototype.equals.call(We,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function tt(e,t,n,r,o){t=t||[],n=n||[],r&&(e=r(o,e));var i;for(i=0;i<t.length;i+=1)if(t[i]===e)return n[i];var a;if(xo.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),n.push(a),i=0;i<e.length;i+=1)a[i]=tt(e[i],t,n,r,o);return t.pop(),n.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),He(e)==="object"&&e!==null){t.push(e),a={},n.push(a);var u=[],s;for(s in e)e.hasOwnProperty(s)&&u.push(s);for(u.sort(),i=0;i<u.length;i+=1)s=u[i],a[s]=tt(e[s],t,n,r,s);t.pop(),n.pop()}else a=e;return a}var Pe=new oe;Pe.tokenize=function(e){return e.slice()};Pe.join=Pe.removeEmpty=function(e){return e};function Lo(e,t,n){return Pe.diff(e,t,n)}function xt(e){const t=e.match(/[\w'-]+|\s|[^a-zA-Z0-9\s]/g);return t?t.filter(Boolean):[]}function Wo(e="",t=""){const n=xt(e),r=xt(t);return Lo(n,r).map(u=>{const s=u.value.join(""),d=u.added?"add":u.removed?"remove":"unchange";return u.value.map(C=>({text:C,state:d,group:s}))}).flat().map((u,s)=>({index:s,...u}))}async function Io(){const t=(await dr("assets/edits-by-date.csv")).map(r=>({...r,content:r.content.replace(/\n/g," NEWLINE ").replace("–","-").replace("—","-")}));return t.map((r,o)=>{var i;return{...r,dateFormatted:$t("%b %d, %Y")(new Date(`${r.date}T12:00:00Z`)),diff:Wo((i=t[o-1])==null?void 0:i.content,r.content)}})}const Ze=Te([]),Ue=Te([]),se=Te(0),st=Te(16),nn=Te(0),rn=Nn(se),No=_e([se,rn],([e,t])=>e>=t),Oo=_e([se,rn],([e,t])=>e-t>1),Yo=_e([Ze,se],([e,t])=>{var n;return((n=e[t])==null?void 0:n.diff)||[]}),Ho=_e([Ze,se],([e,t])=>e);_e(Ze,e=>e.length-1);async function jo(){const e=await Io();Ze.set(e);const{width:t,height:n}=zt(rr),r=n>800?Math.min(1.1,n/600):1,o=Math.floor(t*.015*r);nn.set(`${n}px`),st.set(o)}jo();function zo(e){let t,n;const r=e[7].default,o=hn(r,e,e[6],null);return{c(){t=L("div"),o&&o.c()},l(i){t=W(i,"DIV",{});var a=X(t);o&&o.l(a),a.forEach(M)},m(i,a){V(i,t,a),o&&o.m(t,null),e[8](t),n=!0},p(i,[a]){o&&o.p&&(!n||a&64)&&dn(o,r,i,i[6],n?pn(r,i[6],a,null):gn(i[6]),null)},i(i){n||(K(o,i),n=!0)},o(i){ne(o,i),n=!1},d(i){i&&M(t),o&&o.d(i),e[8](null)}}}function Ro(e,t,n){let{$$slots:r={},$$scope:o}=t,{root:i=null}=t,{top:a=0}=t,{bottom:u=0}=t,{increments:s=100}=t,{value:d=void 0}=t;const C=[],c=[];let m=[],v=[],l;const p=()=>{m.length&&m.forEach(w)},b=()=>{let g=0,E=0;for(let U=0;U<C.length;U++)C[U]>g&&(g=C[U],E=U);g>0?n(1,d=E):n(1,d=void 0)},w=(g,E)=>{const U=P=>{P[0].isIntersecting;const O=P[0].intersectionRatio;C[E]=O,b()},D=a?a*-1:0,A=u?u*-1:0,S=`${D}px 0px ${A}px 0px`,R={root:i,rootMargin:S,threshold:c};v[E]&&v[E].disconnect();const z=new IntersectionObserver(U,R);z.observe(g),v[E]=z};yn(()=>{for(let g=0;g<s+1;g++)c.push(g/s);m=l.querySelectorAll(":scope > *:not(iframe)"),p()});function T(g){rt[g?"unshift":"push"](()=>{l=g,n(0,l)})}return e.$$set=g=>{"root"in g&&n(2,i=g.root),"top"in g&&n(3,a=g.top),"bottom"in g&&n(4,u=g.bottom),"increments"in g&&n(5,s=g.increments),"value"in g&&n(1,d=g.value),"$$scope"in g&&n(6,o=g.$$scope)},e.$$.update=()=>{e.$$.dirty&24&&p()},[l,d,i,a,u,s,o,r,T]}class Po extends ye{constructor(t){super(),ve(this,t,Ro,zo,pe,{root:2,top:3,bottom:4,increments:5,value:1})}}function Lt(e,t,n){const r=e.slice();r[11]=t[n].index,r[12]=t[n].text,r[13]=t[n].state,r[14]=t[n].group;const o=r[13]==="add";r[15]=o;const i=r[13]==="remove";r[16]=i;const a=r[13]==="unchange";return r[17]=a,r}function Zo(e){let t,n,r=e[12]+"",o,i=`${e[1]}px`;return{c(){t=L("span"),n=new Mn(!1),this.h()},l(a){t=W(a,"SPAN",{"data-index":!0,class:!0});var u=X(t);n=Dn(u,!1),u.forEach(M),this.h()},h(){n.a=null,h(t,"data-index",o=e[11]),h(t,"class","svelte-y9343v"),te(t,"add",e[15]),te(t,"remove",e[16]),te(t,"unchange",e[17]),je(t,"font-size",i)},m(a,u){V(a,t,u),n.m(r,t)},p(a,u){u&1&&r!==(r=a[12]+"")&&n.p(r),u&1&&o!==(o=a[11])&&h(t,"data-index",o),u&1&&te(t,"add",a[15]),u&1&&te(t,"remove",a[16]),u&1&&te(t,"unchange",a[17]),u&2&&i!==(i=`${a[1]}px`)&&je(t,"font-size",i)},d(a){a&&M(t)}}}function qo(e){let t;return{c(){t=L("span"),this.h()},l(n){t=W(n,"SPAN",{class:!0}),X(t).forEach(M),this.h()},h(){h(t,"class","newline svelte-y9343v")},m(n,r){V(n,t,r)},p:$,d(n){n&&M(t)}}}function Wt(e){let t;function n(i,a){return i[12]==="NEWLINE"?qo:Zo}let r=n(e),o=r(e);return{c(){o.c(),t=re()},l(i){o.l(i),t=re()},m(i,a){o.m(i,a),V(i,t,a)},p(i,a){r===(r=n(i))&&o?o.p(i,a):(o.d(1),o=r(i),o&&(o.c(),o.m(t.parentNode,t)))},d(i){i&&M(t),o.d(i)}}}function Vo(e){let t,n=he(e[0]),r=[];for(let o=0;o<n.length;o+=1)r[o]=Wt(Lt(e,n,o));return{c(){t=L("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){t=W(o,"DIV",{class:!0});var i=X(t);for(let a=0;a<r.length;a+=1)r[a].l(i);i.forEach(M),this.h()},h(){h(t,"class","hidden svelte-y9343v")},m(o,i){V(o,t,i);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(t,null)},p(o,[i]){if(i&3){n=he(o[0]);let a;for(a=0;a<n.length;a+=1){const u=Lt(o,n,a);r[a]?r[a].p(u,i):(r[a]=Wt(u),r[a].c(),r[a].m(t,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:$,o:$,d(o){o&&M(t),ot(r,o)}}}function Bo(e,t,n){let r,o,i,a,u,s,d;Q(e,Yo,l=>n(2,i=l)),Q(e,Oo,l=>n(4,a=l)),Q(e,No,l=>n(5,u=l)),Q(e,Ue,l=>n(6,s=l)),Q(e,st,l=>n(1,d=l));function C(){const l=o.filter(p=>p.state!=="remove").map(p=>({...p,x:p.tx,y:p.ty,state:"jump"}));Ye(Ue,s=[...l],s)}function c(l){const p=s.filter(w=>w.state!=="remove"&&!w.matched),b=p.filter(w=>w.group===l.group);if(b.length){const w=b.find(T=>T.text===l.text);if(w)return w}return p.find(w=>w.text===l.text)}function m(){Ye(Ue,s=s.map(T=>({...T,x:T.tx,y:T.ty})),s);const l=o.filter(T=>T.state==="unchange").map(T=>{const g=c(T);if(g)return g.matched=!0,{...g,...T};console.log(T),console.log("this should not be possible")}),p=o.filter(T=>T.state==="remove").map(T=>{const g=s.filter(E=>E.state!=="remove").find(E=>!E.matched&&E.text===T.text);if(g)return g.matched=!0,{...g,...T};console.log(T),console.log("this should not be possible")}),b=o.filter(T=>T.state==="add").map(T=>({...T,x:T.tx,y:T.ty})),w=[...l,...p,...b];w.forEach(T=>delete T.matched),Ye(Ue,s=[...w],s)}function v(){const l=document.querySelectorAll("span[data-index]");Array.from(l).filter(b=>b.innerHTML!==" ").forEach((b,w)=>{const{top:T,left:g}=b.getBoundingClientRect(),E=+b.dataset.index,U=o.find(D=>D.index===E);U.tx=g,U.ty=T}),u&&!a?m():C()}return vn(async()=>{v()}),e.$$.update=()=>{e.$$.dirty&4&&n(0,r=i.filter(l=>l.state!=="remove")),e.$$.dirty&4&&(o=i.filter(l=>l.text!==" "&&l.text!=="NEWLINE").map(l=>({...l})))},[r,d,i]}class Jo extends ye{constructor(t){super(),ve(this,t,Bo,Vo,pe,{})}}function It(e){return Object.prototype.toString.call(e)==="[object Date]"}function Qo(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function nt(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((o,i)=>nt(e[i],o));return o=>r.map(i=>i(o))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(It(e)&&It(t)){e=e.getTime(),t=t.getTime();const i=t-e;return a=>new Date(e+a*i)}const r=Object.keys(t),o={};return r.forEach(i=>{o[i]=nt(e[i],t[i])}),i=>{const a={};return r.forEach(u=>{a[u]=o[u](i)}),a}}if(n==="number"){const r=t-e;return o=>e+o*r}throw new Error(`Cannot interpolate ${n} values`)}function Xo(e,t={}){const n=Te(e);let r,o=e;function i(a,u){if(e==null)return n.set(e=a),Promise.resolve();o=a;let s=r,d=!1,{delay:C=0,duration:c=400,easing:m=_n,interpolate:v=nt}=ft(ft({},t),u);if(c===0)return s&&(s.abort(),s=null),n.set(e=o),Promise.resolve();const l=Sn()+C;let p;return r=xn(b=>{if(b<l)return!0;d||(p=v(e,a),typeof c=="function"&&(c=c(e,a)),d=!0),s&&(s.abort(),s=null);const w=b-l;return w>c?(n.set(e=a),!1):(n.set(e=p(m(w/c))),!0)}),r.promise}return{set:i,update:(a,u)=>i(a(o,e),u),subscribe:n.subscribe}}function Go(e){let t,n;return{c(){t=L("canvas"),this.h()},l(r){t=W(r,"CANVAS",{width:!0,height:!0,class:!0}),X(t).forEach(M),this.h()},h(){h(t,"width",e[3]),h(t,"height",e[4]),h(t,"class","svelte-pzhvyw"),Tn(()=>e[9].call(t))},m(r,o){V(r,t,o),e[8](t),n=bn(t,e[9].bind(t))},p(r,[o]){o&8&&h(t,"width",r[3]),o&16&&h(t,"height",r[4])},i:$,o:$,d(r){r&&M(t),e[8](null),n()}}}const Ko=1e3;function Nt({state:e,a:t}){return e==="add"?`rgba(50, 200, 50, ${t})`:e==="remove"?`rgba(200, 50, 50, ${t})`:`rgba(0, 0, 0, ${t})`}function $o(e,t,n){let r,o,i,a;Q(e,Ue,U=>n(7,i=U)),Q(e,st,U=>n(13,a=U));let u,s,d,C,c,m,v=!1,l;function p(){v&&(o.clearRect(0,0,C,c),n(6,o.font=`${a*r}px sans-serif`,o),m.forEach(U=>{zt(U).forEach(A=>{const{index:S,x:R,y:z,a:P,state:O,text:F,strike:_}=A,Y=i.find(Ie=>Ie.index===S);Y.x=R,Y.y=z;const ee=R*r,we=z*r+(a-1)*r;if(n(6,o.fillStyle=Nt({state:O,a:P}),o),o.fillText(F,ee,we),A.state==="remove"){A.textW||(A.textW=o.measureText(F).width);const qe=Math.min(1,_*a)*A.textW,Ne=a/4*r;n(6,o.strokeStyle=Nt({state:O,a:P}),o),n(6,o.lineWidth=2,o),o.beginPath(),o.moveTo(ee,we-Ne),o.lineTo(ee+qe,we-Ne),o.stroke()}o.measureText(F).width})}),requestAnimationFrame(p))}function b(){n(3,C=r*s),n(4,c=r*d)}function w(U){l.shift(),l.length===0&&(v=!1)}function T(){if(!o)return;v=!1,l=["jump","remove","unchange","add"];const U=[];m=l.map((D,A)=>{const S=i.filter(_=>_.state===D),R=or(U)||0,z=D==="jump"?0:Ko;U.push(S.length?z:0);const P=S.map(_=>({..._,x:_.x,y:_.y,a:_.state==="add"?0:_.state==="remove"?2:1,strike:0})),O=S.map(_=>({..._,x:_.tx,y:_.ty,a:_.state==="remove"?0:1,strike:1})),F=Xo(P,{duration:z,delay:R,easing:Qo});return F.set(O).then(()=>w()),F}),v=!0,p()}function g(U){rt[U?"unshift":"push"](()=>{u=U,n(0,u)})}function E(){s=this.clientWidth,d=this.clientHeight,n(1,s),n(2,d)}return e.$$.update=()=>{e.$$.dirty&1&&n(6,o=u==null?void 0:u.getContext("2d")),e.$$.dirty&96&&o&&r&&b(),e.$$.dirty&128&&T()},n(5,r=Math.min(2,window.devicePixelRatio||1)),[u,s,d,C,c,r,o,i,g,E]}class ei extends ye{constructor(t){super(),ve(this,t,$o,Go,pe,{})}}function Ot(e,t,n){const r=e.slice();r[5]=t[n].dateFormatted,r[6]=t[n].diffs,r[7]=t[n].revid,r[10]=n;const o=r[1]===r[10];return r[8]=o,r}function Yt(e){let t,n,r,o,i,a,u,s,d;function C(m){e[4](m)}let c={$$slots:{default:[ti]},$$scope:{ctx:e}};return e[0]!==void 0&&(c.value=e[0]),n=new Po({props:c}),rt.push(()=>kn(n,"value",C)),a=new Jo({}),s=new ei({}),{c(){t=L("section"),Ee(n.$$.fragment),o=Se(),i=L("section"),Ee(a.$$.fragment),u=Se(),Ee(s.$$.fragment),this.h()},l(m){t=W(m,"SECTION",{id:!0,class:!0});var v=X(t);ke(n.$$.fragment,v),v.forEach(M),o=xe(m),i=W(m,"SECTION",{id:!0,class:!0});var l=X(i);ke(a.$$.fragment,l),u=xe(l),ke(s.$$.fragment,l),l.forEach(M),this.h()},h(){h(t,"id","steps"),h(t,"class","svelte-1n7x5ng"),h(i,"id","graphic"),h(i,"class","svelte-1n7x5ng"),je(i,"height",e[3])},m(m,v){V(m,t,v),Fe(n,t,null),V(m,o,v),V(m,i,v),Fe(a,i,null),N(i,u),Fe(s,i,null),d=!0},p(m,v){const l={};v&2054&&(l.$$scope={dirty:v,ctx:m}),!r&&v&1&&(r=!0,l.value=m[0],wn(()=>r=!1)),n.$set(l),v&8&&je(i,"height",m[3])},i(m){d||(K(n.$$.fragment,m),K(a.$$.fragment,m),K(s.$$.fragment,m),d=!0)},o(m){ne(n.$$.fragment,m),ne(a.$$.fragment,m),ne(s.$$.fragment,m),d=!1},d(m){m&&(M(t),M(o),M(i)),Ae(n),Ae(a),Ae(s)}}}function Ht(e){let t,n,r=e[5]+"",o,i,a,u,s,d,C;return{c(){t=L("div"),n=L("p"),o=mt(r),i=Se(),a=L("a"),u=mt("W"),d=Se(),this.h()},l(c){t=W(c,"DIV",{"data-revid":!0,class:!0});var m=X(t);n=W(m,"P",{class:!0});var v=X(n);o=ht(v,r),i=xe(v),a=W(v,"A",{href:!0,target:!0,rel:!0});var l=X(a);u=ht(l,"W"),l.forEach(M),v.forEach(M),d=xe(m),m.forEach(M),this.h()},h(){h(a,"href",s="https://en.wikipedia.org/w/index.php?title=Russian_invasion_of_Ukraine&oldid="+e[7]),h(a,"target","_blank"),h(a,"rel","noreferrer"),h(n,"class","svelte-1n7x5ng"),h(t,"data-revid",C=e[7]),h(t,"class","svelte-1n7x5ng"),te(t,"active",e[8])},m(c,m){V(c,t,m),N(t,n),N(n,o),N(n,i),N(n,a),N(a,u),N(t,d)},p(c,m){m&4&&r!==(r=c[5]+"")&&Fn(o,r),m&4&&s!==(s="https://en.wikipedia.org/w/index.php?title=Russian_invasion_of_Ukraine&oldid="+c[7])&&h(a,"href",s),m&4&&C!==(C=c[7])&&h(t,"data-revid",C),m&2&&te(t,"active",c[8])},d(c){c&&M(t)}}}function ti(e){let t,n=he(e[2]),r=[];for(let o=0;o<n.length;o+=1)r[o]=Ht(Ot(e,n,o));return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=re()},l(o){for(let i=0;i<r.length;i+=1)r[i].l(o);t=re()},m(o,i){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,i);V(o,t,i)},p(o,i){if(i&6){n=he(o[2]);let a;for(a=0;a<n.length;a+=1){const u=Ot(o,n,a);r[a]?r[a].p(u,i):(r[a]=Ht(u),r[a].c(),r[a].m(t.parentNode,t))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(o){o&&M(t),ot(r,o)}}}function ni(e){let t,n,r=e[2].length&&Yt(e);return{c(){r&&r.c(),t=re()},l(o){r&&r.l(o),t=re()},m(o,i){r&&r.m(o,i),V(o,t,i),n=!0},p(o,[i]){o[2].length?r?(r.p(o,i),i&4&&K(r,1)):(r=Yt(o),r.c(),K(r,1),r.m(t.parentNode,t)):r&&(Un(),ne(r,1,1,()=>{r=null}),En())},i(o){n||(K(r),n=!0)},o(o){ne(r),n=!1},d(o){o&&M(t),r&&r.d(o)}}}function ri(e,t,n){let r,o,i;Q(e,se,s=>n(1,r=s)),Q(e,Ho,s=>n(2,o=s)),Q(e,nn,s=>n(3,i=s));let a;function u(s){a=s,n(0,a)}return e.$$.update=()=>{e.$$.dirty&1&&Ye(se,r=a||0,r)},[a,r,o,i,u]}class oi extends ye{constructor(t){super(),ve(this,t,ri,ni,pe,{})}}const ii="Title TK",ai="Description tk.",jt={title:ii,description:ai};function ui(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.11.1"),console.log("build: 2023-09-01-11:49"),console.log("--- --- --- --- --- ---")}function si(e){let t,n,r,o;return t=new In({props:{title:e[1],description:e[2],url:e[3],preloadFont:e[0],keywords:e[4]}}),r=new oi({}),{c(){Ee(t.$$.fragment),n=Se(),Ee(r.$$.fragment)},l(i){ke(t.$$.fragment,i),n=xe(i),ke(r.$$.fragment,i)},m(i,a){Fe(t,i,a),V(i,n,a),Fe(r,i,a),o=!0},p:$,i(i){o||(K(t.$$.fragment,i),K(r.$$.fragment,i),o=!0)},o(i){ne(t.$$.fragment,i),ne(r.$$.fragment,i),o=!1},d(i){i&&M(n),Ae(t,i),Ae(r,i)}}}function ci(e,t,n){let{data:r}=t;ui();const o=[],{title:i,description:a,url:u,keywords:s}=jt;return lt("copy",jt),lt("data",r.data),e.$$set=d=>{"data"in d&&n(5,r=d.data)},[o,i,a,u,s,r]}class di extends ye{constructor(t){super(),ve(this,t,ci,si,pe,{data:5})}}export{di as component};
